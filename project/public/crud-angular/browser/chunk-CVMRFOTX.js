import{a as Nt}from"./chunk-OMBDBAMB.js";import"./chunk-MS4AQ6UA.js";import{$ as q,A as xt,B as yt,C as Dt,D as Rt,E as It,F as Et,H as G,J as B,L as Ft,M as U,N as kt,O as $,P as Tt,Q as jt,T as H,U as At,V as u,W as f,X as L,Y as Vt,Z as Ot,_ as Q,c as y,d as D,e as R,f as lt,g as st,h as pt,i as ct,j as dt,k as ut,l as ft,m as Mt,n as vt,o as gt,p as ht,q as bt,r as Ct,s as _t,t as N,v as P,x as St,z as wt}from"./chunk-24ZQDHAV.js";import"./chunk-JORF2XPE.js";import{$a as ot,Aa as c,Fa as rt,Ib as w,J as j,Ja as o,K as it,Ka as a,Kb as x,La as g,Lb as mt,M as b,Ma as A,Na as V,Ob as tt,Pa as W,Ra as p,S as C,Sa as h,T as _,Wa as X,Xa as Y,Ya as Z,ab as n,cb as d,hb as O,ja as l,k,na as s,ra as S,sa as at,v as T,wa as v,zb as nt}from"./chunk-47BL5O6Z.js";var I=class i{constructor(t,e){this.material=t;this.dialog=e}baseUri=u.baseUri;resolve(t){return this.material.getById(`${this.baseUri}/api/material`,t.params.id).pipe(T(e=>(this.showErrorDialog(e.message),k("No data"))))}showErrorDialog(t){this.dialog.open(L,{width:"300px",data:{message:t}})}static \u0275fac=function(e){return new(e||i)(b(f),b(R))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var qt=()=>["/material"],F=class i{constructor(t,e,r,m){this.fb=t;this.genericService=e;this.router=r;this.route=m;this.materialForm=this.fb.group({designation:["",wt.required]})}materialForm;isEditMode=!1;materialId;titrePage="Ajouter";baseUri=u.baseUri;ngOnInit(){this.materialId=this.route.snapshot.params.id,this.materialId&&(this.titrePage="Modifier",this.isEditMode=!0,this.loadMaterials())}loadMaterials(){this.route.data.subscribe(t=>{this.materialForm.patchValue(t.material)})}onSubmit(){if(this.materialForm.valid){let t=this.materialForm.value;(this.isEditMode&&this.materialId?this.genericService.update(`${this.baseUri}/api/material`,this.materialId,t):this.genericService.create(`${this.baseUri}/api/material`,t)).subscribe(()=>{this.router.navigate(["/material"]).then()})}}goBack(){this.router.navigate(["/material"]).then()}static \u0275fac=function(e){return new(e||i)(s(Et),s(f),s(x),s(w))};static \u0275cmp=S({type:i,selectors:[["app-material-form"]],decls:17,vars:6,consts:[["mat-raised-button","","color","primary",3,"click"],[1,"container"],[3,"ngSubmit","formGroup"],["matInput","","formControlName","designation","type","designation"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-button","","type","button",3,"routerLink"]],template:function(e,r){e&1&&(o(0,"mat-card-actions")(1,"button",0),p("click",function(){return r.goBack()}),n(2,"Retour"),a()(),o(3,"div",1)(4,"h2"),n(5),a(),o(6,"form",2),p("ngSubmit",function(){return r.onSubmit()}),o(7,"mat-form-field")(8,"mat-label"),n(9,"Designation"),a(),g(10,"input",3),a(),g(11,"br"),o(12,"div",4)(13,"button",5),n(14),a(),o(15,"button",6),n(16,"Annuler"),a()()()()),e&2&&(l(5),d("",r.titrePage," un material"),l(),c("formGroup",r.materialForm),l(7),c("disabled",!r.materialForm.valid),l(),d(" ",r.titrePage," "),l(),c("routerLink",O(5,qt)))},dependencies:[G,Dt,St,xt,yt,Rt,It,mt,nt,D,y,N,H,B,P,Ft,q,Q],encapsulation:2})};var zt=()=>[5,10,25,100];function Jt(i,t){i&1&&(o(0,"th",15),n(1," ID "),a())}function Kt(i,t){if(i&1&&(o(0,"td",16),n(1),a()),i&2){let e=t.$implicit;l(),d(" ",e.id," ")}}function Wt(i,t){i&1&&(o(0,"th",15),n(1," Designation "),a())}function Xt(i,t){if(i&1&&(o(0,"td",16),n(1),a()),i&2){let e=t.$implicit;l(),d(" ",e.designation," ")}}function Yt(i,t){i&1&&(o(0,"th",17),n(1,"Actions"),a())}function Zt(i,t){if(i&1){let e=W();o(0,"td",16)(1,"button",18),p("click",function(){let m=C(e).$implicit,M=h();return _(M.viewMaterial(m))}),n(2,"Voir"),a(),o(3,"button",18),p("click",function(){let m=C(e).$implicit,M=h();return _(M.editMaterial(m))}),n(4,"Modifier"),a(),o(5,"button",19),p("click",function(){let m=C(e).$implicit,M=h();return _(M.deleteMaterial(m))}),n(6,"Supprimer"),a()()}}function te(i,t){i&1&&g(0,"tr",20)}function ee(i,t){i&1&&g(0,"tr",21)}function ie(i,t){if(i&1&&(o(0,"tr",22)(1,"td",23),n(2),a()()),i&2){h();let e=ot(7);l(2),d('No data matching the filter "',e.value,'"')}}var z=class i{constructor(t,e,r,m){this.genericService=t;this.dialog=e;this.router=r;this.activatedRoute=m}materials=[];displayedColumns=["id","designation","actions"];dataSource=new _t;baseUri=u.baseUri;paginator;sort;ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){let e=t.target.value;this.dataSource.filter=e.trim().toLowerCase()}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.materials=t.materials,this.dataSource.data=t.materials})}loadMaterials(){this.genericService.getAll(`${this.baseUri}/api/material`).subscribe(t=>{this.materials=t})}viewMaterial(t){this.router.navigate(["/material/show",t.id]).then()}editMaterial(t){this.router.navigate(["/material/edit",t.id]).then()}deleteMaterial(t){this.dialog.open(lt,{data:{message:"Voulez-vous vraiment supprimer ce materiel ?"}}).afterClosed().subscribe(r=>{r&&this.genericService.delete(`${this.baseUri}/api/material`,t.id).subscribe(()=>{this.loadMaterials()})})}goToAddMaterial(){this.router.navigate(["/material/add"]).then()}static \u0275fac=function(e){return new(e||i)(s(f),s(R),s(x),s(w))};static \u0275cmp=S({type:i,selectors:[["app-material"]],viewQuery:function(e,r){if(e&1&&(X(U,5),X($,5)),e&2){let m;Y(m=Z())&&(r.paginator=m.first),Y(m=Z())&&(r.sort=m.first)}},decls:26,vars:5,consts:[["input",""],["matInput","","placeholder","Ex. Mia",3,"keyup"],["mat-raised-button","","color","primary","id","btnAjout",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","designation"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(e&1){let m=W();o(0,"table")(1,"tr")(2,"td")(3,"mat-form-field")(4,"mat-label"),n(5,"Filter"),a(),o(6,"input",1,0),p("keyup",function(Ht){return C(m),_(r.applyFilter(Ht))}),a()()(),o(8,"td")(9,"button",2),p("click",function(){return C(m),_(r.goToAddMaterial())}),n(10,"Ajouter Material"),a()()()(),o(11,"div",3)(12,"table",4),A(13,5),v(14,Jt,2,0,"th",6)(15,Kt,2,1,"td",7),V(),A(16,8),v(17,Wt,2,0,"th",6)(18,Xt,2,1,"td",7),V(),A(19,9),v(20,Yt,2,0,"th",10)(21,Zt,7,0,"td",7),V(),v(22,te,1,0,"tr",11)(23,ee,1,0,"tr",12)(24,ie,3,1,"tr",13),a(),g(25,"mat-paginator",14),a()}e&2&&(l(12),c("dataSource",r.dataSource),l(10),c("matHeaderRowDef",r.displayedColumns),l(),c("matRowDefColumns",r.displayedColumns),l(2),c("pageSizeOptions",O(4,zt)))},dependencies:[Ct,st,ct,Mt,dt,pt,vt,ut,ft,gt,ht,bt,D,y,B,P,N,At,H,jt,$,Tt,kt,U],styles:["table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}#btnAjout[_ngcontent-%COMP%]{margin-bottom:30px}"]})};var J=class i{constructor(t,e){this.material=t;this.dialog=e}baseUri=u.baseUri;resolve(){return this.material.get(`${this.baseUri}/api/material`).pipe(T(t=>(this.showErrorDialog(t.message),k("No data"))))}showErrorDialog(t){this.dialog.open(L,{width:"300px",data:{message:t}})}static \u0275fac=function(e){return new(e||i)(b(f),b(R))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};function ae(i,t){if(i&1&&(o(0,"div",1)(1,"h2"),n(2,"Materiel Details"),a(),o(3,"mat-card",2)(4,"mat-card-content")(5,"p")(6,"strong"),n(7,"Designation: "),a(),n(8),a()()()()),i&2){let e=h();l(8),d(" ",e.material.designation,"")}}var K=class i{constructor(t,e){this.route=t;this.router=e}material;ngOnInit(){this.route.data.subscribe(t=>{this.material=t.material})}goBack(){this.router.navigate(["/material"]).then()}static \u0275fac=function(e){return new(e||i)(s(w),s(x))};static \u0275cmp=S({type:i,selectors:[["app-material-show"]],decls:4,vars:1,consts:[["mat-raised-button","","color","primary",3,"click"],[1,"container"],[1,"material-card"]],template:function(e,r){e&1&&(o(0,"mat-card-actions")(1,"button",0),p("click",function(){return r.goBack()}),n(2,"Retour"),a()(),v(3,ae,9,1,"div",1)),e&2&&(l(3),rt(r.material?3:-1))},dependencies:[q,Vt,Q,Ot,D,y],styles:[".container[_ngcontent-%COMP%]{padding:20px}.material-card[_ngcontent-%COMP%]{max-width:400px;margin:20px 0}p[_ngcontent-%COMP%]{margin:10px 0}mat-card-actions[_ngcontent-%COMP%]{padding:0 16px 16px}button[_ngcontent-%COMP%]{margin-right:10px}"]})};var re=[{path:"",component:z,resolve:{materials:Nt}},{path:"add",component:F,resolve:{ping:J}},{path:"edit/:id",component:F,resolve:{material:I}},{path:"show/:id",component:K,resolve:{material:I}}],$t=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=at({type:i});static \u0275inj=it({imports:[tt.forChild(re),G,tt]})};export{$t as MaterialsRoutingModule};
